<!DOCTYPE html>
<html>
	<head>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
		<link type="text/css" rel="stylesheet" href="../stylesheets/blog-stylesheet.css">
		<title>Alex Yanai Developer - Design</title>
	</head>
	<body>
		<section id="main">
			<header>
				<nav>
					<a href="../blogposts.html">Blog&#160;</a>
					<a href="../portfolio.html">Work</a>
				</nav>
			</header>

			<section id="left">
				<section id="title">
					<h2>SQL Injections</h2>
				</section>
				<section id="time">
					<p>October 12th, 2014</p>
				</section>
				<section id="blog">
					<section id="content">
						<p>There are a large number of technical terms that make their way to the public consciousness; one of these is the SQL injection. An SQL injection is a malicious technique where SQL commands are inserted into an SQL statement ('injection') into dynamic web-applications. The code is inserted directly into web page or in applications via user input. The existing code is altered and, subsequently, the behavior of the application is altered, leading to the potential exploitation or modification of database data. The SQL injection is dangerous because of the often sensitive data stored in databases: anything from usernames and passwords to credit card information.<br><br>

						For example: imagine a piece of code that takes user input, user_name and pass, strings, and a succesful query with the input credentials will return the data within the database.<br><br>

						<p class="block">user_name = get_input<br>
						user_pass = get_input<br>
						sql_query = "SELECT * FROM user_names WHERE user_name = '#{user_name}' AND user_pass = '#{user_pass}'"<br>
						$db.execute(sql_query)</p><br><br>

						If all goes as designed, and the code runs, the query will return the correct data for the given user_name. The problem arises, however, due to the structure of the code. To extend the the example, imagine that some malicious user attempted to inpute the following:

						<p class="block">user_name = ' OR ""=='<br>
						user_pass = ' OR ""=='</p><br><br>

						This would lead to the following SQL query being input:<br>

						<p class="block">sql_query = "SELECT * FROM user_names WHERE user_name = '' OR '' = '' AND user_pass = '' OR '' = ''<br>
						$db.execute(sql_query)</p><br><br>
						
						This would be a valid query in this code but with important implications:<br>
						&#160;&#160;&#160;&#160;The database would return any information where the user_name and user_pass are empty and<br>
						&#160;&#160;&#160;&#160;The database would return all other information, since '' = '' returns true.<br><br>

						Well, that's not good. How do you protect user information when a malicious outsider can effectively request information using code from inside your code? Prepared statements and parameterized queries. All inputs are defined initially, and then each of them is subsequently passed as a parameter. Doing this would look like this:<br><br>

						<p class="block">user_name = get_input<br>
						user_pass = get_input<br>
						new_query = $db.prepare("SELECT * FROM user_names WHERE user_name = ? AND user_pass = ?")<br>
						new_query.execute(user, pass)<br><br></p>

						So what does this mean? This SQL command changes how the inputs are passed, effectively adding a second layer of verification to the process. As is the case in many programming languages, this new query forces the code to differentiate between 'returns TRUE' and 'matches exactly'. The new parameterized query is now checked, as a string, against the database values, meaning that ' OR '' = ' would be converted to a string, rather than simply being read as a TRUE input.</section>
					<section id="share">
						<ul>
							<li>Share Post:</li>
							<li><a href="https://www.linkedin.com/">LinkedIn</a></li>
							<li><a href="https://twitter.com/">Twitter</a></li>
							<li><a href="https://www.facebook.com/">Facebook</a></li>
							<li><a href="Mailto@">Email</a></li>
						</ul>
					</section>
				</section>
			</section>
			<footer><p>Alex Yanai - I'm not sure what to write here - 2014</p></footer>
		</section>
	</body>
</html>